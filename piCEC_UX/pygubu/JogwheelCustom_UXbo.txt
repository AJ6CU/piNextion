import tkinter as tk


from pygubu.api.v1 import (
    BuilderObject,
    register_widget, register_custom_property,
)
from JogwheelCustom import JogwheelCustom

#
# Builder definition section
#

class JogwheelCustom_UXbo(BuilderObject):
    class_ = JogwheelCustom
    OPTIONS_CUSTOM = {
        "start",
        "end",
        "divisions",
        "value",
        "scroll_steps",
        "radius",
        "button_radius",
        "command"
    }
    ro_properties = ("start", "end", "divisions")
    properties = OPTIONS_CUSTOM

    virtual_events = ("<<JogwheelCustomSelected>>",)
    def _process_property_value(self, pname,value):
        if pname in ("start", "end", "divisions", "value", "scroll_steps", "radius", "button_radius"):
            return int(value)
        return super()._process_property_value(pname,value)


_builder_id = "projectcustom.Jogwheel"
register_widget(
    _builder_id, JogwheelCustom_UXbo, "Jogwheel", ("tk", "Project Widgets")
)



register_custom_property (
    _builder_id,
    "start",
    "integernumber"
)

register_custom_property (
    _builder_id,
    "end",
    "integernumber"
)

register_custom_property (
    _builder_id,
    "divisions",
    "integernumber"
)

register_custom_property (
    _builder_id,
    "value",
    "integernumber"
)

register_custom_property (
    _builder_id,
    "radius",
    "integernumber"
)

register_custom_property (
    _builder_id,
    "button_radius",
    "integernumber"
)

register_custom_property (
    _builder_id,
    "scroll_steps",
    "integernumber"
)

register_custom_property (
    _builder_id,
    "command",
    "commandentry"
)